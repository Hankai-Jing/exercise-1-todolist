<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript">
        window.onload = function() {
            document.getElementById("userInput").onkeydown = save;
        }

        function save(click) {
            if (click.keyCode == 13){
                var location = document.getElementById("tableOne");
                var length = location.childElementCount;
                var newTr = document.getElementById("template").cloneNode(true);
                location.appendChild(newTr);
                newTr.children[0].children[1].innerHTML = 
                    document.getElementById("userInput").value;
                document.getElementById("userInput").value = " ";
                newTr.style.display = '';
                newTr.id = "newTr" + length;
                var toggle_delete = toggledelete.bind(newTr);
                newTr.children[0].children[0].onchange = toggle_delete;
                var newTr_delete = newTrdelete.bind(newTr)
                newTr.children[0].children[2].onclick = newTr_delete;
            }
        }
        function toggledelete(event) {
            var td_checkbox = this.children[0].children[0]
            var td_div = this.children[0].children[1]
            if(td_checkbox.checked) {
                var del = document.createElement("del");
                del.innerHTML = td_div.innerHTML;
                td_div.innerHTML = del.outerHTML;
            }
            else {
                var getback = td_div.children[0].innerHTML
                td_div.innerHTML = getback
            }
        }
        function newTrdelete(event) {
            this.parentNode.removeChild(this)
        }
        </script>
    </head>
    <style>
    table,th,td {
                border-collapse: collapse;
                border: 1px solid grey;
    }
    </style>
    <body>
        <div class="header">
            <h1 style="color: grey">
                todos
            </h1>
        </div>
        <div class="content">
        <table >
            <tbody id="tableOne">
            <tr>
                <td>
                    <input id="userInput" type="text" name="task" placeholder="What needs to do?">
                </td>
            </tr>
            <tr>
                <td>
                    <input type="checkbox" >Hello
                    <input style="float: right" type="button" name="delete" value="Delete">
                </td>
            </tr>
            <tr>
                <td>
                    <input type="checkbox" >World
                    <input style="float: right" type="button" name="delete" value="Delete">
                </td>
            </tr>
            <tr id="template" style="display:none">
                <td>
                    <input style="display: inline-block" type="checkbox" >
                    <div style="display: inline-block">
                        template
                    </div>
                    <input style="float: right" type="button" name="delete" value="Delete">
                </td>
            </tr>
            <tbody>
        </table>
        </div>
    </body>
</html>